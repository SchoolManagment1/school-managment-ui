<!-- register.component.html -->
<div class="register-wrapper d-flex align-items-center justify-content-center">
  <div class="register-card card shadow-lg p-4 w-100">
    <h2 class="text-center mb-4 text-gradient">
      <i class="fas fa-user-plus me-2"></i>Register Now
    </h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="row g-3">
        <!-- First Name -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">First Name</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-user"></i></span>
            <input formControlName="firstName" class="form-control" placeholder="Enter first name" />
          </div>
          <div *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid" class="text-danger mt-1">
            First name is required
          </div>
        </div>

        <!-- Last Name -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">Last Name</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-user"></i></span>
            <input formControlName="lastName" class="form-control" placeholder="Enter last name" />
          </div>
          <div *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid" class="text-danger mt-1">
            Last name is required
          </div>
        </div>

        <!-- Phone -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">Phone</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-phone"></i></span>
            <input formControlName="phone" class="form-control" placeholder="+91 9876543210" />
          </div>
          <div *ngIf="registerForm.get('phone')?.touched && registerForm.get('phone')?.invalid" class="text-danger mt-1">
            Phone number is required
          </div>
        </div>

        <!-- Email -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">Email</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
            <input formControlName="email" type="email" class="form-control" placeholder="user@example.com" />
          </div>
          <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors">
            <div class="text-danger mt-1" *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</div>
            <div class="text-danger mt-1" *ngIf="registerForm.get('email')?.errors?.['email']">Enter a valid email</div>
          </div>
        </div>

        <!-- Password -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">Password</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control" placeholder="Enter password" />
            <span class="input-group-text" style="cursor: pointer;" (click)="togglePasswordVisibility()">
              <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
            </span>
          </div>
          <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="text-danger mt-1">
            Password is required
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">Confirm Password</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
            <input [type]="showPassword ? 'text' : 'password'" formControlName="confirmPassword" class="form-control" placeholder="Re-enter password" />
          </div>
          <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid" class="text-danger mt-1">
            Confirm password is required
          </div>
          <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched" class="text-danger mt-1">
            Passwords do not match
          </div>
        </div>

        <!-- Address -->
        <div class="col-md-12">
          <label class="form-label fw-semibold">Address</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
            <input formControlName="address" class="form-control" placeholder="City, Country" />
          </div>
        </div>

        <!-- Buttons -->
        <div class="col-12 text-center mt-4">
          <button class="btn btn-gradient px-4 me-3" [disabled]="registerForm.invalid">
            <i class="fas fa-user-plus me-2"></i>Register
          </button>
          <button type="button" class="btn btn-outline-dark px-4" (click)="onCancel()">
            <i class="fas fa-times me-2"></i>Cancel
          </button>
          <p class="mt-3 mb-0 text-muted">Already have an account?
            <a routerLink="/login" class="text-decoration-none ms-1 text-gradient fw-bold">Login</a>
          </p>
        </div>
      </div>
    </form>

    <!-- Success -->
    <div *ngIf="successMessage" class="alert alert-success mt-3 text-center" role="alert">
      <i class="fas fa-check-circle me-2"></i> {{ successMessage }}
    </div>

    <!-- Error -->
    <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center" role="alert">
      <i class="fas fa-exclamation-triangle me-2"></i> {{ errorMessage }}
    </div>
  </div>
</div>
